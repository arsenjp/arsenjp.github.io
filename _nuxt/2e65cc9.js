(window.webpackJsonp=window.webpackJsonp||[]).push([[8,21,23,24,25,26,27,28,29,30,31,32,33,34,35],{662:function(e,t,r){var content=r(684);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(27).default)("1f42483d",content,!0,{sourceMap:!1})},666:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatBold"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}})])}),[],!1,null,null,null);t.default=component.exports},667:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatItalic"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}})])}),[],!1,null,null,null);t.default=component.exports},668:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatUnderline"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}})])}),[],!1,null,null,null);t.default=component.exports},669:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatStrikethrough"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"}})])}),[],!1,null,null,null);t.default=component.exports},670:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatListBulleted"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}})])}),[],!1,null,null,null);t.default=component.exports},671:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatListNumbered"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}})])}),[],!1,null,null,null);t.default=component.exports},672:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatCode"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}})])}),[],!1,null,null,null);t.default=component.exports},673:function(e,t,r){"use strict";r.r(t);var n={name:"IconFormatQuote"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}})])}),[],!1,null,null,null);t.default=component.exports},674:function(e,t,r){"use strict";r.r(t);var n={name:"IconRemove"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 13H5v-2h14v2z"}})])}),[],!1,null,null,null);t.default=component.exports},675:function(e,t,r){"use strict";r.r(t);var n={name:"IconUndo"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}})])}),[],!1,null,null,null);t.default=component.exports},676:function(e,t,r){"use strict";r.r(t);var n={name:"IconRedo"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}})])}),[],!1,null,null,null);t.default=component.exports},677:function(e,t,r){"use strict";r.r(t);var n={name:"IconAddPhoto"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}})])}),[],!1,null,null,null);t.default=component.exports},678:function(e,t,r){"use strict";r.r(t);var n={name:"IconLink"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}})])}),[],!1,null,null,null);t.default=component.exports},679:function(e,t,r){"use strict";r.r(t);var n={name:"IconLinkOff"},o=r(85),component=Object(o.a)(n,(function(){var e=this._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"}})])}),[],!1,null,"61158ab2",null);t.default=component.exports},680:function(e,t,r){"use strict";r.r(t);var n=r(121),o=r(718),c=r(120),l=r(241),h=(r(20),r(17),r(19),r(22),r(16),r(23),r(3)),m=r(80),f=r(21);r(55),r(8),r(47),r(74),r(44),r(36),r(167),r(87),r(39),r(43),r(207),r(56),r(65);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(h.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={name:"FileSelector",data:function(){return{imgFailed:!1,FULL_IMAGE:{maxDimension:1280,quality:.9},THUMB_IMAGE:{maxDimension:640,quality:.7},userRepo:{images:[]}}},created:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserRepo();case 2:case"end":return t.stop()}}),t)})))()},computed:{user:function(){return this.$nuxt.$store.state.authUser},eventImagesReversedLength:function(){return Object(m.a)(Array(this.userRepo.images.length).keys()).slice().reverse()},isDeletingImage:function(){if(!this.userRepo)return[];var e=this.userRepo.images.map((function(e){return!1}));return e},isUploadingImage:function(){if(!this.userRepo)return[];var e=this.userRepo.images.map((function(e){return!1}));return e}},methods:{selectImage:function(img){var image={src:img.imageUrl,alt:""};this.$emit("select-file",image)},getUserRepo:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nuxt.$fire.firestore.collection("repoImages").doc(e.user.uid).get();case 2:(r=t.sent).exists&&(n=r.id,data=r.data(),e.userRepo=d(d({},data),{},{id:n}));case 4:case"end":return t.stop()}}),t)})))()},deleteImage:function(e){var t=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isDeletingImage[e]=!0,n=t.$nuxt.$fire.storage.refFromURL(t.userRepo.images[e].imageUrl).delete(),o=t.$nuxt.$fire.storage.refFromURL(t.userRepo.images[e].teaserImageUrl).delete(),r.abrupt("return",Promise.all([n,o]).then(Object(f.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.userRepo.images[e].imageUrl="",t.userRepo.images[e].teaserImageUrl="",r.next=4,t.updateImageFirestore();case 4:return r.abrupt("return",null);case 5:case"end":return r.stop()}}),r)})))).catch(function(){var r=Object(f.a)(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.error("Error deleting image",n),"storage/object-not-found"!==n.code){r.next=6;break}return t.userRepo.images[e].imageUrl="",t.userRepo.images[e].teaserImageUrl="",r.next=6,t.updateImageFirestore();case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).finally((function(){t.isDeletingImage[e]=!1})));case 4:case"end":return r.stop()}}),r)})))()},launchImageFile:function(e){var t="imageFile".concat(e);this.$refs[t][0].click()},launchImageFilePicker:function(){this.$refs.imageFilePicker.click()},uploadImageFile:function(e,t){var r=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var n,o,c,l,h,m,v,d,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:if((n=e[0]).type.match("image.*")){t.next=6;break}return alert("Please upload an image."),t.abrupt("return");case 6:return o={contentType:n.type},c=new Promise((function(e,t){r.generateVariation(n,r.FULL_IMAGE.maxDimension,r.FULL_IMAGE.quality,e)})),l=new Promise((function(e,t){r.generateVariation(n,r.THUMB_IMAGE.maxDimension,r.THUMB_IMAGE.quality,e)})),t.next=11,Promise.all([c,l]);case 11:return h=t.sent,m=Date.now().toString(),v=r.uploadSingleImageFile(m+"_"+n.name,h[0],o),d=m+"_"+n.name.substring(0,n.name.lastIndexOf("."))+"_thumb."+n.name.substring(n.name.lastIndexOf(".")+1),w=r.uploadSingleImageFile(d,h[1],o),t.next=18,Promise.all([v,w]).then(function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(t){var image;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return image={imageUrl:t[0],teaserImageUrl:t[1]},r.userRepo.images.push(image),e.next=4,r.updateImageFirestore();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:case"end":return t.stop()}}),t)})))()},uploadSingleImageFile:function(e,t,r){return this.$nuxt.$fire.storage.ref("repoImages/".concat(this.user.uid,"/").concat(e)).put(t,r).then((function(e){return e.ref.getDownloadURL().then((function(e){return e}))})).catch((function(e){console.error("Error uploading image",e)}))},generateVariation:function(e,t,r,n){var o=this,c=new FileReader;c.onload=function(e){return c=e.target.result,(image=new Image).src=c,void(image.onload=function(){o.getScaledCanvas(image,t).toBlob(n,"image/jpeg",r)});var c,image},c.readAsDataURL(e)},getScaledCanvas:function(image,e){var t=document.createElement("canvas");return image.width>e||image.height>e?image.width>image.height?(t.width=e,t.height=e*image.height/image.width):(t.width=e*image.width/image.height,t.height=e):(t.width=image.width,t.height=image.height),t.getContext("2d").drawImage(image,0,0,image.width,image.height,0,0,t.width,t.height),t},addImage:function(){this.userRepo.images.push({imageUrl:"",teaserImageUrl:""})},removeImage:function(e){var t=this;return Object(f.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm("Are you sure?")){r.next=3;break}return r.abrupt("return");case 3:if(""===t.userRepo.images[e].imageUrl){r.next=11;break}return r.next=6,t.deleteImage(e);case 6:return t.userRepo.images.splice(e,1),r.next=9,t.updateImageFirestore();case 9:r.next=12;break;case 11:t.userRepo.images.splice(e,1);case 12:case"end":return r.stop()}}),r)})))()},updateImageFirestore:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,data={images:e.userRepo.images},t.next=4,e.$nuxt.$fire.firestore.collection("repoImages").doc(e.user.uid).set(data).then((function(){e.success="Successfully updated!!",setTimeout((function(){e.success=null}),2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),e.error="Could not set user information";case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},x=w,I=(r(683),r(85)),component=Object(I.a)(x,(function(){var e=this,t=e._self._c;return t(o.a,{staticStyle:{"margin-top":"20px",width:"100%",height:"fit-content"}},[t("div",{staticStyle:{width:"100%",height:"250px",overflow:"auto"}},[t("div",{staticClass:"d-flex flex-row flex-wrap justify-center align-center"},e._l(e.userRepo.images,(function(img,i){return t("div",{key:i,staticStyle:{width:"100px",height:"100px",position:"relative",overflow:"auto",margin:"6px"}},[t(c.a,{staticClass:"close-button",staticStyle:{position:"absolute",top:"-12px",left:"-12px","z-index":"10"},attrs:{role:"button"},on:{click:function(t){return e.removeImage(i)}}},[e._v("mdi-close")]),e._v(" "),t(l.a,{staticClass:"selectable",staticStyle:{border:"thin solid rgba(0,0,0,0.12)",height:"100px",width:"100px","object-fit":"cover"},attrs:{alt:"img-"+i,src:e.imgFailed?"/img/image-not-found.png":img.teaserImageUrl},on:{error:function(t){e.imgFailed=!0},click:function(){e.selectImage(img)}}})],1)})),0)]),e._v(" "),t("input",{ref:"imageFilePicker",staticClass:"hidden",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:function(t){return t.preventDefault(),e.uploadImageFile(t.target.files,e.userRepo.images.length)}}}),e._v(" "),t(n.a,{staticClass:"mt-5",attrs:{block:""},on:{click:function(){e.launchImageFilePicker()}}},[t(c.a,[e._v("mdi-plus-circle")]),e._v("\n    Add More Photo\n  ")],1)],1)}),[],!1,null,"528e4054",null);t.default=component.exports},683:function(e,t,r){"use strict";r(662)},684:function(e,t,r){var n=r(26)(!1);n.push([e.i,".selectable[data-v-528e4054]{cursor:pointer}",""]),e.exports=n}}]);